!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ba3403db-afab-4e59-9a17-129874699665",e._sentryDebugIdIdentifier="sentry-dbid-ba3403db-afab-4e59-9a17-129874699665")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9820],{8660:function(e){e.exports=function(e,t,r,n){for(var s=-1,i=null==e?0:e.length;++s<i;){var o=e[s];t(n,o,r(o),e)}return n}},3792:function(e,t,r){var n=r(61701);e.exports=function(e,t,r,s){return n(e,function(e,n,i){t(s,e,r(e),i)}),s}},17325:function(e,t,r){var n=r(8660),s=r(3792),i=r(55833),o=r(55589);e.exports=function(e,t){return function(r,l){var a=o(r)?n:s,u=t?t():{};return a(r,e,i(l,2),u)}}},50663:function(e,t,r){var n=r(17325)(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});e.exports=n},19110:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/sql/quickstarts",function(){return r(24997)}])},53114:function(e,t,r){"use strict";r.d(t,{x:function(){return i}});var n=r(32691),s=r(52983);function i(){let{replace:e=!0,arrayKeys:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=JSON.stringify(t),i=(0,s.useMemo)(()=>new Set(t),[r]),o=(0,n.useRouter)(),l=(0,s.useMemo)(()=>Object.fromEntries(Object.entries(o.query).map(e=>{let[t,r]=e;return i.has(t)?Array.isArray(r)?[t,r]:[t,[r]]:[t,r]})),[i,o.query]),a=(0,s.useCallback)(t=>{let r="function"==typeof t?t(l):t,n=Object.fromEntries(Object.entries({...l,...r}).filter(e=>{let[,t]=e;return!!t}));(e?o.replace:o.push)({pathname:o.pathname,query:n},void 0,{shallow:!0,scroll:!1})},[o,l,e]);return[l,a]}},19276:function(e,t,r){"use strict";var n=r(97458),s=r(62234),i=r(52983);t.Z=e=>{let{title:t,description:r,sql:o,onClick:l}=e,[a,u]=(0,i.useState)(!1);return(0,n.jsx)(s.Z,{title:t,loading:a,onClick:()=>void(u(!0),l(o,t)),description:r,className:"xl:h-48 p-6","data-sentry-element":"CardButton","data-sentry-component":"SQLCard","data-sentry-source-file":"SQLCard.tsx"})}},62234:function(e,t,r){"use strict";var n=r(97458),s=r(5295),i=r(91587),o=r(83145),l=r.n(o),a=r(52983),u=r(65092);t.Z=e=>{let t,{title:r,description:o,children:c,footer:d,url:f="",linkHref:m="",imgUrl:h,imgAlt:x,icon:p,className:v,loading:y=!1,fixedHeight:g=!0,hideChevron:b=!1,titleClass:j="",containerElement:N,...w}=e,k=f||m||w.onClick,C={},_=N&&a.isValidElement(N)?e=>(0,a.cloneElement)(N,{...e}):void 0;w.onClick?(t=null!=_?_:"button",C=w):m?(t=null!=_?_:l(),C={href:m,...w}):f?(t=null!=_?_:"a",C={href:f,...w}):(t=null!=_?_:"div",C=w);let S=["group relative text-left","bg-surface-100","border border-surface","rounded-md p-5 flex flex-row","transition ease-in-out duration-150"];k&&(S=[...S,"cursor-pointer","hover:bg-surface-200","hover:border-control"]),g&&(S=[...S,"min-h-32 md:min-h-44"]);let q=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"mr-4 flex flex-col","data-sentry-component":"ImageContainer","data-sentry-source-file":"CardButton.tsx",children:t})},E=(0,n.jsxs)(n.Fragment,{children:[h&&(0,n.jsx)(q,{children:(0,n.jsx)("img",{className:" transition-all group-hover:scale-110 ",src:"".concat(h),alt:"".concat(x),width:"26"})}),p&&(0,n.jsx)(q,{children:p}),(0,n.jsxs)("div",{className:"flex h-full w-full flex-col space-y-2",children:["string"==typeof r?(0,n.jsx)("h5",{className:"text-foreground pr-5 ".concat(j),children:r}):r,(c||o)&&(0,n.jsxs)("div",{className:"flex w-full flex-1 flex-col",children:[(0,n.jsx)("p",{className:"text-sm text-foreground-light",children:o}),(0,n.jsx)("div",{className:"w-full",children:c&&c})]}),d&&(0,n.jsx)("div",{className:"w-full !mt-auto",children:d})]}),k&&(0,n.jsx)("div",{className:" absolute right-4 top-4 text-foreground-lighter transition-all duration-200 group-hover:right-3 group-hover:text-foreground ",children:y?(0,n.jsx)(s.Z,{className:"animate-spin"}):b?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(i.Z,{})})]});return(0,n.jsx)(t,{...C,className:(0,u.cn)(S,v),"data-sentry-element":"Container","data-sentry-component":"CardButton","data-sentry-source-file":"CardButton.tsx",children:E})}},24997:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var n=r(97458),s=r(198),i=r(50663),o=r.n(i),l=r(32691),a=r(34549),u=r(12436),c=r(30457),d=r(62354),f=r(82288),m=r(90817),h=r(62432),x=r(45536),p=r(81514),v=r(49825),y=r(76689),g=r(19276),b=r(75541),j=()=>{let e=(0,l.useRouter)(),{ref:t}=(0,u.UO)(),r=(0,b.l)(),{profile:i}=(0,p.Un)(),j=(0,h.Vm)(),[,N]=o()(d.o,{type:"template"}),w=(0,v.B0)(),k=(0,m.Xo)(s.KA.CREATE,"user_content",{resource:{type:"sql",owner_id:null==i?void 0:i.id},subject:{id:null==i?void 0:i.id}}),{mutate:C}=(0,f.a)(),_=async(r,n)=>{if(!t)return console.error("Project ref is required");if(!j)return console.error("Project is required");if(!i)return console.error("Profile is required");if(!k)return(0,a.Am)("Your queries will not be saved as you do not have sufficient permissions");try{let s=(0,y.wI)({id:(0,x.k$)(),name:n,sql:r,owner_id:null==i?void 0:i.id,project_id:null==j?void 0:j.id});w.addSnippet({projectRef:t,snippet:s}),w.addNeedsSaving(s.id),e.push("/project/".concat(t,"/sql/").concat(s.id))}catch(e){a.Am.error("Failed to create new query: ".concat(e.message))}};return(0,n.jsx)("div",{className:"block h-full space-y-8 overflow-y-auto p-4 md:p-6","data-sentry-component":"SQLQuickstarts","data-sentry-source-file":"SQLQuickstarts.tsx",children:(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h1",{className:"text-foreground mb-3 text-xl",children:"Quickstarts"}),(0,n.jsxs)("p",{className:"text-foreground-light text-sm",children:["Click on any script to fill the query box, modify the script, then click",(0,n.jsx)("span",{className:"text-code",children:"Run"}),"."]})]}),(0,n.jsx)("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:N.map(e=>(0,n.jsx)(g.Z,{title:e.title,description:e.description,sql:e.sql,onClick:(e,n)=>{var s;_(e,n),C({action:c.b.SQL_EDITOR_QUICKSTART_CLICKED,properties:{quickstartName:n},groups:{project:null!=t?t:"Unknown",organization:null!==(s=null==r?void 0:r.slug)&&void 0!==s?s:"Unknown"}})}},e.title))})]})})},N=r(95767),w=r(5294);let k=()=>(0,n.jsx)(j,{"data-sentry-element":"SQLQuickstarts","data-sentry-component":"SqlEditorWelcome","data-sentry-source-file":"quickstarts.tsx"});k.getLayout=e=>(0,n.jsx)(N.Z,{children:(0,n.jsx)(w.Z,{title:"Quickstarts",children:e})});var C=k},19540:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(97458),s=r(52983),i=r(68985),o=r(11499);function l(e,t){if(!t.error)return delete e[t.key],e;if(t)return{...e,[t.key]:t.error};throw Error()}function a(e){let{validate:t,...r}=e,[a,u]=(0,s.useReducer)(l,null),c=(0,i.TA)({validateOnBlur:!0,...r,validationSchema:r.validationSchema,initialValues:r.initialValues,onSubmit:r.onSubmit,validate:t||function(){return a}});return(0,n.jsx)("form",{id:r.id,name:r.name,onSubmit:c.handleSubmit,className:r.className,style:r.style,method:"POST","data-sentry-component":"Form","data-sentry-source-file":"Form.tsx",children:(0,n.jsx)(o.o,{values:c.values,errors:c.errors,formContextOnChange:c.handleChange,handleBlur:c.handleBlur,touched:c.touched,fieldLevelValidation:function(e,t){u({key:e,error:t})},"data-sentry-element":"FormContextProvider","data-sentry-source-file":"Form.tsx",children:r.children({errors:c.errors,touched:c.touched,isSubmitting:c.isSubmitting,isValidating:c.isValidating,submitCount:c.submitCount,initialValues:c.initialValues,values:c.values,handleReset:c.handleReset,resetForm:c.resetForm,setFieldValue:c.setFieldValue})})})}}},function(e){e.O(0,[6665,7623,588,305,6402,1864,8703,1018,4975,4376,9621,3954,659,9911,3760,4637,8069,9344,9192,6739,4098,902,8985,3174,4556,4847,1379,272,2047,2728,6976,5767,5294,9774,2888,179],function(){return e(e.s=19110)}),_N_E=e.O()}]);